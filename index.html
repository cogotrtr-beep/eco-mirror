<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>EcoMirror – Climate Intelligence 2045</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
  font-family:Segoe UI,sans-serif;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:white;
  padding:40px 8%;
}
h1{
  background:linear-gradient(to right,#00ffae,#00c6ff);
  -webkit-background-clip:text;
  color:transparent;
}
.section{margin-top:40px;}
input,select{
  width:100%;
  padding:8px;
  margin:6px 0;
  border:none;
  border-radius:6px;
}
button{
  padding:10px 20px;
  background:#00ffae;
  border:none;
  border-radius:20px;
  cursor:pointer;
  margin-top:10px;
}
.panel{
  margin-top:30px;
  padding:25px;
  border-radius:15px;
  background:rgba(255,255,255,0.1);
}
.charts{
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:40px;
  margin-top:20px;
}
.chart-box{
  width:450px;
  height:320px;
  background:white;
  border-radius:12px;
  padding:15px;
}
canvas{
  width:100% !important;
  height:100% !important;
}
.riskBox{
  margin-top:15px;
  padding:12px;
  border-radius:8px;
  font-weight:bold;
  text-align:center;
}
.high{background:rgba(255,0,0,0.4);}
.moderate{background:rgba(255,165,0,0.4);}
.low{background:rgba(0,255,0,0.4);}
</style>
</head>

<body>

<h1>EcoMirror – 2045 Climate Simulator</h1>

<div class="section">

<label>Select City</label>
<select id="city">
<option value="Delhi">Delhi (India)</option>
<option value="Mumbai">Mumbai (India)</option>
<option value="NewYork">New York (USA)</option>
<option value="London">London (UK)</option>
<option value="Tokyo">Tokyo (Japan)</option>
<option value="Beijing">Beijing (China)</option>
<option value="Sydney">Sydney (Australia)</option>
<option value="Toronto">Toronto (Canada)</option>
</select>

<label>Vehicle Usage (km/day)</label>
<input type="number" id="vehicle" value="20">

<label>Electricity Usage (kWh/month)</label>
<input type="number" id="electricity" value="50">

<label>AC Usage (hrs/day)</label>
<input type="number" id="ac" value="2">

<h3>Select Year</h3>
<input type="range" id="yearSlider" min="2025" max="2045" value="2045">
<div>Year: <span id="yearLabel">2045</span></div>

<h3>Sustainability Actions</h3>
<label><input type="checkbox" value="20"> Switch to EV</label><br>
<label><input type="checkbox" value="15"> Renewable Expansion</label><br>
<label><input type="checkbox" value="10"> Emission Policy</label><br>

<button id="simulateBtn">Run Simulation</button>

</div>

<div class="section panel">
<h2>AQI Projection</h2>
<div class="charts">

<div class="chart-box">
<canvas id="lineChart"></canvas>
</div>

<div class="chart-box">
<canvas id="pieChart"></canvas>
</div>

</div>
</div>

<div class="section panel">
<h2>Health & Risk Assessment</h2>
<div id="healthOutput"></div>
<div id="riskBox" class="riskBox"></div>
</div>

<script>

document.addEventListener("DOMContentLoaded", function(){

const cityBaseAQI = {
Delhi:180, Mumbai:150,
NewYork:90, London:80,
Tokyo:95, Beijing:200,
Sydney:65, Toronto:70
};

const lineChart = new Chart(document.getElementById("lineChart"),{
type:"line",
data:{
labels:["2025","2030","2035","2040","2045"],
datasets:[
{
label:"Current Path",
data:[0,0,0,0,0],
borderColor:"red",
tension:0.4
},
{
label:"Sustainable Path",
data:[0,0,0,0,0],
borderColor:"#00aa55",
tension:0.4
}
]
},
options:{
responsive:true,
maintainAspectRatio:false
}
});

const pieChart = new Chart(document.getElementById("pieChart"),{
type:"pie",
data:{
labels:["Transport","Electricity","Cooling","Urban"],
datasets:[{
data:[25,25,25,25],
backgroundColor:["#ff4d4d","#00c6ff","#ffaa00","#00aa55"]
}]
},
options:{
responsive:true,
maintainAspectRatio:false
}
});

const yearSlider=document.getElementById("yearSlider");
const yearLabel=document.getElementById("yearLabel");

yearSlider.addEventListener("input",function(){
yearLabel.innerText=this.value;
simulate();
});

document.getElementById("simulateBtn").addEventListener("click",simulate);

function simulate(){

const city=document.getElementById("city").value;
const baseAQI=cityBaseAQI[city];

const vehicle=parseFloat(document.getElementById("vehicle").value)||0;
const electricity=parseFloat(document.getElementById("electricity").value)||0;
const ac=parseFloat(document.getElementById("ac").value)||0;
const selectedYear=parseInt(yearSlider.value);

const naturalGrowth=baseAQI*0.15;
const factor=(selectedYear-2025)/20;

const personalImpact=(vehicle*0.2+electricity*0.02+ac*0.8)*factor;

let projectedAQI=baseAQI+(naturalGrowth*factor)+personalImpact;

let reduction=0;
document.querySelectorAll("input[type=checkbox]:checked")
.forEach(cb=>reduction+=parseInt(cb.value));
if(reduction>50) reduction=50;

const sustainableAQI=projectedAQI*(1-reduction/100);

// Line graph update
let currentData=[];
let sustainableData=[];

for(let y=2025;y<=2045;y+=5){
let f=(y-2025)/20;
let future=baseAQI+(naturalGrowth*f)+((vehicle*0.2+electricity*0.02+ac*0.8)*f);
currentData.push(future);
let sustainFuture=future*(1-(reduction/100)*f);
sustainableData.push(sustainFuture);
}

lineChart.data.datasets[0].data=currentData;
lineChart.data.datasets[1].data=sustainableData;
lineChart.update();

// Pie chart reacts to sustainability
let transport=vehicle*0.2;
let elec=electricity*0.02;
let cool=ac*0.8;
let urban=baseAQI*0.4;

transport*=(1-reduction/150);
elec*=(1-reduction/180);
cool*=(1-reduction/160);

let total=transport+elec+cool+urban;

pieChart.data.datasets[0].data=[
(transport/total)*100,
(elec/total)*100,
(cool/total)*100,
(urban/total)*100
];
pieChart.update();

// Health based on sustainable AQI
let finalAQI=sustainableAQI;

let riskLevel;
if(finalAQI<=100) riskLevel="Low";
else if(finalAQI<=200) riskLevel="Moderate";
else if(finalAQI<=300) riskLevel="High";
else riskLevel="Severe";

document.getElementById("healthOutput").innerHTML=`
City: ${city}<br>
Year: ${selectedYear}<br><br>
Projected AQI (Current): ${projectedAQI.toFixed(0)}<br>
Projected AQI (Sustainable): ${sustainableAQI.toFixed(0)}<br><br>
Respiratory Risk: ${(finalAQI/6).toFixed(0)}%<br>
Extreme Heat Days: ${(finalAQI/15).toFixed(0)}
`;

const riskBox=document.getElementById("riskBox");
riskBox.innerHTML="Climate Risk Level: "+riskLevel;

if(riskLevel==="Severe") riskBox.className="riskBox high";
else if(riskLevel==="High") riskBox.className="riskBox moderate";
else riskBox.className="riskBox low";

}

simulate();

});
</script>

</body>
</html>







