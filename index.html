<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>EcoMirror Climate Simulator</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
  font-family:Segoe UI,sans-serif;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:white;
  padding:40px 8%;
}
h1{
  background:linear-gradient(to right,#00ffae,#00c6ff);
  -webkit-background-clip:text;
  color:transparent;
}
.section{margin-top:40px;}
input,select{
  width:100%;
  padding:8px;
  margin:6px 0;
  border:none;
  border-radius:6px;
}
button{
  padding:10px 20px;
  background:#00ffae;
  border:none;
  border-radius:20px;
  cursor:pointer;
  margin-top:10px;
}
.panel{
  margin-top:20px;
  padding:20px;
  border-radius:10px;
  background:rgba(255,255,255,0.08);
}
.charts{
  display:flex;
  flex-wrap:wrap;
  gap:40px;
  margin-top:20px;
}
canvas{max-width:420px;}
.riskBox{
  margin-top:15px;
  padding:10px;
  border-radius:8px;
}
.high{background:rgba(255,0,0,0.3);}
.moderate{background:rgba(255,165,0,0.3);}
.low{background:rgba(0,255,0,0.3);}
</style>
</head>

<body>

<h1>EcoMirror – Dynamic Climate Projection</h1>

<div class="section">

<label>Select City</label>
<select id="city">
<option value="Delhi">Delhi</option>
<option value="Mumbai">Mumbai</option>
<option value="NewYork">New York</option>
<option value="London">London</option>
<option value="Tokyo">Tokyo</option>
<option value="Beijing">Beijing</option>
<option value="Sydney">Sydney</option>
<option value="Toronto">Toronto</option>
</select>

<label>Vehicle Usage (km/day)</label>
<input type="number" id="vehicle" value="20">

<label>Electricity Usage (kWh/month)</label>
<input type="number" id="electricity" value="300">

<label>AC Usage (hrs/day)</label>
<input type="number" id="ac" value="6">

<h3>Select Projection Year</h3>
<input type="range" id="yearSlider" min="2025" max="2045" value="2045">
<div>Year: <span id="yearLabel">2045</span></div>

<h3>Sustainable Actions</h3>
<label><input type="checkbox" value="20"> Switch to EV</label><br>
<label><input type="checkbox" value="15"> Renewable Expansion</label><br>
<label><input type="checkbox" value="10"> Emission Policy</label><br>

<button onclick="simulate()">Simulate</button>

</div>

<div class="section panel">
<h2>AQI Projection (2025–2045)</h2>
<div class="charts">
<canvas id="lineChart"></canvas>
<canvas id="pieChart"></canvas>
</div>
</div>

<div class="section panel">
<h2>Health & Risk Impact</h2>
<div id="healthOutput"></div>
<div id="riskBox" class="riskBox"></div>
</div>

<script>

const cityBaseAQI = {
Delhi:180, Mumbai:150,
NewYork:90, London:80,
Tokyo:95, Beijing:200,
Sydney:65, Toronto:70
};

let lineChart = new Chart(document.getElementById("lineChart"),{
type:"line",
data:{
labels:["2025","2030","2035","2040","2045"],
datasets:[
{label:"Current Path",data:[0,0,0,0,0],borderColor:"red",fill:false},
{label:"Sustainable Path",data:[0,0,0,0,0],borderColor:"#00ffae",fill:false}
]
}
});

let pieChart = new Chart(document.getElementById("pieChart"),{
type:"pie",
data:{
labels:["Transport","Electricity","Cooling","Urban"],
datasets:[{
data:[25,25,25,25],
backgroundColor:["#ff4d4d","#00c6ff","#ffaa00","#00ffae"]
}]
}
});

document.getElementById("yearSlider").addEventListener("input", function(){
document.getElementById("yearLabel").innerText = this.value;
});

function simulate(){

let city = document.getElementById("city").value;
let baseAQI = cityBaseAQI[city];

let vehicle = parseFloat(document.getElementById("vehicle").value)||0;
let electricity = parseFloat(document.getElementById("electricity").value)||0;
let ac = parseFloat(document.getElementById("ac").value)||0;
let selectedYear = parseInt(document.getElementById("yearSlider").value);

let growthFactor = (selectedYear - 2025) / 20; // 0 to 1

let pollutionIncrease =
(vehicle*2 + electricity*0.3 + ac*4) * growthFactor;

let projectedAQI = baseAQI + pollutionIncrease;

let reduction = 0;
document.querySelectorAll("input[type=checkbox]:checked")
.forEach(cb => reduction += parseInt(cb.value));
if(reduction > 50) reduction = 50;

let sustainableAQI = projectedAQI * (1 - reduction/100);

// Update line chart curves
let currentData = [];
let sustainableData = [];

for(let year=2025; year<=2045; year+=5){
let factor = (year-2025)/20;
let futureAQI = baseAQI + (vehicle*2 + electricity*0.3 + ac*4)*factor;
currentData.push(futureAQI);
sustainableData.push(futureAQI*(1-reduction/100));
}

lineChart.data.datasets[0].data = currentData;
lineChart.data.datasets[1].data = sustainableData;
lineChart.update();

// Normalize pie chart to percentage
let transport = vehicle*2;
let elec = electricity*0.3;
let cool = ac*4;
let urban = baseAQI*0.5;

let total = transport + elec + cool + urban;

pieChart.data.datasets[0].data = [
(transport/total)*100,
(elec/total)*100,
(cool/total)*100,
(urban/total)*100
];

pieChart.update();

// Health Impact
let riskLevel;
if(projectedAQI > 300) riskLevel="Severe";
else if(projectedAQI > 200) riskLevel="High";
else if(projectedAQI > 120) riskLevel="Moderate";
else riskLevel="Low";

document.getElementById("healthOutput").innerHTML=`
City: ${city}<br>
Year Selected: ${selectedYear}<br>
Projected AQI: ${projectedAQI.toFixed(0)}<br>
Sustainable AQI: ${sustainableAQI.toFixed(0)}<br>
Respiratory Risk: ${(projectedAQI/4).toFixed(0)}%<br>
Extreme Heat Days: ${(projectedAQI/8).toFixed(0)}
`;

let riskBox = document.getElementById("riskBox");
riskBox.innerHTML = "Climate Risk Level: <b>"+riskLevel+"</b>";

if(riskLevel==="Severe"||riskLevel==="High")
riskBox.className="riskBox high";
else if(riskLevel==="Moderate")
riskBox.className="riskBox moderate";
else
riskBox.className="riskBox low";

}

simulate();

</script>

</body>
</html>




