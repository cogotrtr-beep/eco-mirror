<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>EcoMirror – Dual City Climate Intelligence</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
  font-family:Segoe UI,sans-serif;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:white;
  padding:40px 6%;
}

h1{
  text-align:center;
  background:linear-gradient(to right,#00ffae,#00c6ff);
  -webkit-background-clip:text;
  color:transparent;
}

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:30px;
  margin-top:30px;
}

.panel{
  background:rgba(255,255,255,0.1);
  padding:20px;
  border-radius:12px;
}

input,select{
  width:100%;
  padding:8px;
  margin:6px 0;
  border:none;
  border-radius:6px;
}

button{
  margin-top:15px;
  padding:10px 20px;
  background:#00ffae;
  border:none;
  border-radius:20px;
  cursor:pointer;
}

.chart-large{
  margin-top:40px;
  height:350px;
  background:white;
  border-radius:12px;
  padding:15px;
}

.chart-small{
  height:250px;
  background:white;
  border-radius:12px;
  padding:10px;
}

canvas{
  width:100% !important;
  height:100% !important;
}

.result{
  margin-top:15px;
  font-weight:bold;
}
</style>
</head>

<body>

<h1>EcoMirror – Dual City Climate Comparison</h1>

<div class="grid">

<div class="panel">
<h3>City A</h3>
<select id="cityA">
<option value="Delhi">Delhi</option>
<option value="Mumbai">Mumbai</option>
<option value="NewYork">New York</option>
<option value="London">London</option>
<option value="Tokyo">Tokyo</option>
<option value="Beijing">Beijing</option>
<option value="Sydney">Sydney</option>
<option value="Toronto">Toronto</option>
</select>
<div id="healthA" class="result"></div>
</div>

<div class="panel">
<h3>City B</h3>
<select id="cityB">
<option value="Delhi">Delhi</option>
<option value="Mumbai">Mumbai</option>
<option value="NewYork">New York</option>
<option value="London">London</option>
<option value="Tokyo">Tokyo</option>
<option value="Beijing">Beijing</option>
<option value="Sydney">Sydney</option>
<option value="Toronto">Toronto</option>
</select>
<div id="healthB" class="result"></div>
</div>

</div>

<div class="panel">

<label>Vehicle Usage (km/day)</label>
<input type="number" id="vehicle" value="20">

<label>Electricity Usage (kWh/month)</label>
<input type="number" id="electricity" value="50">

<label>AC Usage (hrs/day)</label>
<input type="number" id="ac" value="2">

<label>Select Year</label>
<input type="range" id="yearSlider" min="2025" max="2045" value="2025">
<div>Year: <span id="yearLabel">2025</span></div>

<button onclick="simulate()">Compare</button>

</div>

<div class="chart-large">
<canvas id="comparisonChart"></canvas>
</div>

<div class="grid">

<div class="chart-small">
<canvas id="pieA"></canvas>
</div>

<div class="chart-small">
<canvas id="pieB"></canvas>
</div>

</div>

<div class="panel">
<div id="winner" class="result"></div>
</div>

<script>

const cityBaseAQI = {
Delhi:180, Mumbai:150,
NewYork:90, London:80,
Tokyo:95, Beijing:200,
Sydney:65, Toronto:70
};

const lineChart = new Chart(document.getElementById("comparisonChart"),{
type:"line",
data:{
labels:["2025","2030","2035","2040","2045"],
datasets:[
{label:"City A",data:[],borderColor:"red",tension:0.4},
{label:"City B",data:[],borderColor:"blue",tension:0.4}
]
},
options:{responsive:true,maintainAspectRatio:false}
});

const pieA = new Chart(document.getElementById("pieA"),{
type:"pie",
data:{
labels:["Transport","Electricity","Cooling","Urban"],
datasets:[{data:[25,25,25,25],
backgroundColor:["#ff4d4d","#00c6ff","#ffaa00","#00aa55"]}]
},
options:{responsive:true,maintainAspectRatio:false}
});

const pieB = new Chart(document.getElementById("pieB"),{
type:"pie",
data:{
labels:["Transport","Electricity","Cooling","Urban"],
datasets:[{data:[25,25,25,25],
backgroundColor:["#ff4d4d","#00c6ff","#ffaa00","#00aa55"]}]
},
options:{responsive:true,maintainAspectRatio:false}
});

document.getElementById("yearSlider").addEventListener("input",function(){
document.getElementById("yearLabel").innerText=this.value;
simulate();
});

function simulate(){

const cityA=document.getElementById("cityA").value;
const cityB=document.getElementById("cityB").value;

const baseA=cityBaseAQI[cityA];
const baseB=cityBaseAQI[cityB];

const vehicle=parseFloat(document.getElementById("vehicle").value)||0;
const electricity=parseFloat(document.getElementById("electricity").value)||0;
const ac=parseFloat(document.getElementById("ac").value)||0;

let dataA=[];
let dataB=[];

for(let y=2025;y<=2045;y+=5){
let f=(y-2025)/20;

let futureA=baseA+(baseA*0.15*f)+
((vehicle*0.2+electricity*0.02+ac*0.8)*f);

let futureB=baseB+(baseB*0.15*f)+
((vehicle*0.2+electricity*0.02+ac*0.8)*f);

dataA.push(futureA);
dataB.push(futureB);
}

lineChart.data.datasets[0].data=dataA;
lineChart.data.datasets[1].data=dataB;
lineChart.update();

// Pie chart update
function updatePie(chart, base){
let transport=vehicle*0.2;
let elec=electricity*0.02;
let cool=ac*0.8;
let urban=base*0.4;
let total=transport+elec+cool+urban;

chart.data.datasets[0].data=[
(transport/total)*100,
(elec/total)*100,
(cool/total)*100,
(urban/total)*100
];
chart.update();
}

updatePie(pieA, baseA);
updatePie(pieB, baseB);

// Health
let finalA=dataA[4];
let finalB=dataB[4];

function risk(aqi){
if(aqi<=100) return "Low";
if(aqi<=200) return "Moderate";
if(aqi<=300) return "High";
return "Severe";
}

document.getElementById("healthA").innerHTML=
`AQI 2045: ${finalA.toFixed(0)}<br>Risk: ${risk(finalA)}`;

document.getElementById("healthB").innerHTML=
`AQI 2045: ${finalB.toFixed(0)}<br>Risk: ${risk(finalB)}`;

if(finalA<finalB)
document.getElementById("winner").innerHTML=
`${cityA} shows better long-term air quality.`;
else if(finalB<finalA)
document.getElementById("winner").innerHTML=
`${cityB} shows better long-term air quality.`;
else
document.getElementById("winner").innerHTML=
`Both cities show similar projections.`;

}

simulate();

</script>

</body>
</html>








